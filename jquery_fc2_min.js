/*! jQuery FC2 Plugin - v0.1.5 - 2012-09-28
* http://fc2ist.blog.fc2.com/
* Copyright (c) 2012 @moi_fc2; Licensed MIT */
(function(a){var b,c,d,e,f;return f={eyecatch:{className:"img-eyecatch",linkClassName:"link-eyecatch",enoData:"eno",titleData:"title",dataName:"eyecatch",fade:!1,fadeSpeed:300,carousel:"#index-carousel"},pager:{range:10,totalData:"total",currentData:"current",dataName:"pagination",skip:!0,prev:"«",next:"»",className:null},lightbox:{opacity:.75},scroll:{speed:300}},a.fn.fc2=function(){function e(){var e;return e=this,{eyecatch:function(c){var d;return d=a.extend(c,f.eyecatch),a(d.carousel).each(function(){var b;return b=a(".item",this),b.eq(0).addClass("active"),b.each(function(){var b,c,f,g,h;b=a(this),f=b.data("target"),c=e.filter('[data-eno="'+f+'"]');if(!c.length)return;h=c.find("[data-"+d.dataName+"]:eq(0)");if(!h.length)return;g=h.data(d.dataName).split("%%");if(!g.length)return;return a("img."+d.className,b).attr("src",g.shift())})}).show().addClass("in"),e.each(function(){return new b(a(this),d)})},pager:function(b){var c;return c=a.extend(b,f.pager),e.each(function(){return new d(a(this),c)})},lightbox:function(b){var d;return d=a.extend(b,f.lightbox),new c(e,d),e}}}return e}(),a.fc2=function(){function b(){var b;return b=this,{scroll:function(c){var d;return d=a.extend(c,f.scroll),new e(d),b}}}return b}(),b=function(){function d(a,c){this.config=c,this.target=a,b.apply(this)}var b,c;return c=/(^blog-entry-\d+\.html)|([&\?]?no=\d+)/,b=function(){var b,d,e,f,g,h,i,j,k;if(this.target.data(this.config.dataName+"_on"))return;this.target.data(this.config.dataName+"_on",this),i=this.target.find("[data-"+this.config.dataName+"]:eq(0)");if(!i.length)return;this.eyecatch=i.data(this.config.dataName).split("%%");if(this.eyecatch.length<1)return;return f=document.URL.substring(document.URL.lastIndexOf("/")+1),j=this.eyecatch.length<2||c.test(f)?this.eyecatch[0]:this.eyecatch[1],g=a("<img />").attr({src:j,"class":this.config.className}),this.config.fade&&g.css("opacity",0),e=this.target.data(this.config.enoData),k=this.target.data(this.config.titleData),b=i.data("class"),e!=null&&!c.test(f)?(d={href:"blog-entry-"+e+".html","class":this.config.linkClassName},k!=null&&(d.title=k),h=a("<a />").attr(d).append(g).prependTo(this.target),b&&h.addClass(b)):(b&&g.addClass(b),g.prependTo(this.target)),this.config.fade&&g.fadeTo(this.config.fadeSpeed,1),i.remove()},d}(),d=function(){function h(b,d){this.config=d,this.target=b;if(this.target.data(this.config.dataName))return;this.target.data(this.config.dataName,this),this.info=a(window).data("pageinfo"),this.info||(this.info=e(this.target.data(this.config.currentData)),a(window).data("pageinfo",this.info));if(!this.info)return;c.apply(this)}var b,c,d,e,f,g;return f=/(^blog-entry-\d+\.html)|(^archives\.html)/,g=/(&?no=\d+)|(&?all[=&]?)|(&?mode=edit(&.*)?)|(&?editor[=&]?)/,e=function(a){var c,d,e,h,i,j,k,l,m;e={},h=document.URL.substring(document.URL.lastIndexOf("/")+1).split("#")[0],i=h.match(/\?(.+)/)?RegExp.$1:"",e.query=b(i),e.filename=h.split("?")[0],l=["q","tag","date","cat"];for(j=0,k=l.length;j<k;j++)c=l[j],e.query[c]&&(e.area=c,e.value=e.query[c]);if(f.test(e.filename)&&!e.area||g.test(i))return!1;if(e.area==null&&!e.filename)return{filename:"",query:{},area:"page",page:"0"};if(!e.area){d=e.filename.match(/(([^-]+)-)?([^-]+)-(\d+)(-(\d+))?\.html$/);if(d==null)return!1;d[3]!=null&&(e.prefix=d[2]),d[4]!=null&&(e.no=d[4]),e.area=(m=d[3])!=null?m:d[2],e.area==="page"&&delete e.no}return a!=null?e.page=a-0:e.page=1,e},b=function(a){var b,c,d,e,f,g;c={length:0},g=a.split("&");for(e=0,f=g.length;e<f;e++)d=g[e],b=d.split("="),b[0]!==""&&(c[b[0]]=b.length>1?b[1]:"",++c.length);return c},c=function(){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;s=(u=this.target.data(this.config.totalData)-0)!=null?u:1,p=this.config.range-0,b=this.info.page,s<1&&(s=1),b<1&&(b=1),p>s&&(p=s),e=Math.ceil(p/2),b-e<0?(j=1,i=p):b+e>=s?(j=s-p+1,i=s):(j=b-e+1,i=b+e),m=a("<ul />"),this.config.className!=null&&m.attr("class",this.config.className);for(g=t=j;j<=i?t<=i:t>=i;g=j<=i?++t:--t)h=a("<li>").appendTo(m),g===b?(h.addClass("active"),f="#"):f=d.apply(this,[g]),a("<a>").attr("href",f).text(g).appendTo(h);return this.config.skip&&(c=a('<li class="disabled"><a href="#">...</a></li>'),j>1&&(c.prependTo(m),r=a("<li>").prependTo(m),a("<a>").attr("href",d.apply(this,[1])).text("1").appendTo(r)),i<s&&(c.clone().appendTo(m),q=a("<li>").appendTo(m),a("<a>").attr("href",d.apply(this,[s])).text(s).appendTo(q))),n=a('<li class="prev" />'),k=a('<li class="next" />'),o=b>1?d.apply(this,[b-1]):"#",l=b<s?d.apply(this,[b+1]):"#",a("<a />").attr("href",o).text(this.config.prev).appendTo(n),a("<a />").attr("href",l).text(this.config.next).appendTo(k),o==="#"&&n.addClass("disabled"),l==="#"&&k.addClass("disabled"),m.prepend(n).append(k),this.target.append(m).on("click","a[href^=#]",function(a){return!1})},d=function(a){var b,c,d,e,f;if(!this.info.pattern)if(this.info.value!=null)this.info.pattern="/?"+this.info.area+"="+this.info.value+"&page={{page}}";else{b=[],f=[this.info.prefix,this.info.area,this.info.no,"{{page}}"];for(d=0,e=f.length;d<e;d++)c=f[d],c!=null&&c.length>=1&&b.push(c);this.info.pattern=b.join("-")+".html"}return this.info.pattern.replace("{{page}}",a-1)},h}(),e=function(){function b(b){var c;this.config=b,c=this.config.speed,a(document).on("click","a[href^=#]",function(b){var d,e,f,g;b.preventDefault(),d=a(this);if(d.data("slide"))return;return e=d.attr("href"),g=a(e==="#"?"html":e),g.length<1&&(g=a("html")),f=g.offset().top,a("html,body").animate({scrollTop:f},c,function(){if(e!=="#")return location.hash=e})})}return b}(),c=function(){function i(a,b){this.config=b;if(a.data("lightbox"))return;this.target=a,d.apply(this)}var b,c,d,e,f,g,h;return d=function(){var b;return b=this,f.apply(this),e.apply(this),this.target.data("lightbox",!0).on("click",function(d){return d.preventDefault(),c.apply(b,[a(this)])}).css("outline",0)},f=function(){return this.overlay=a("<div />").css({position:"fixed",top:0,left:0,opacity:this.config.opacity,"background-color":"black",width:"100%",height:"100%",display:"none",cursor:"pointer","z-index":1e3}).appendTo(a("body")).on("click",a.proxy(b,this))},e=function(){return this.box=a("<div />").css({position:"fixed",top:0,left:0,"background-color":"white",padding:"10px",display:"none","z-index":1001,"-webkit-border-radius":"6px","-moz-border-radius":"6px","-ms-border-radius":"6px","-o-border-radius":"6px","border-radius":"6px"}).appendTo(a("body"))},c=function(c){var d=this;return this.overlay.fadeIn(300),g(c.attr("href")).then(function(e){var f,g;return window.navigator.appVersion.toLowerCase().indexOf("msie 8.")!==-1&&d.box.width(e.width),f=a(e).css({"max-width":"100%",height:"auto",cursor:"pointer"}).on("click",a.proxy(b,d)),d.box.empty().append(e).fadeIn(300),g=c.attr("title"),g&&a('<div class="title" />').css({"padding-top":"10px"}).text(g).hide().appendTo(d.box).delay(300).slideDown(300),h.apply(d),d.box.css({top:"50%",left:"50%"}),a(window).on("resize",a.proxy(h,d))},function(){})},h=function(){h.i=h.i||0;if(h.i++%2)return;return this.box.css({"margin-left":-parseInt(this.box.outerWidth()/2),"margin-top":-parseInt(this.box.outerHeight()/2)})},b=function(){return this.overlay.fadeOut(200),this.box.fadeOut(200),a(window).off("resize",a.proxy(h,this))},g=function(b){var c;return c=new a.Deferred,a("<img />").on("load",function(){return c.resolve(this)}).attr("src",b),c.promise()},i}()})(jQuery),function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(d){function e(){var b=a(m),c=a(o);h&&(o.length?h.reject(j,b,c):h.resolve(j)),a.isFunction(d)&&d.call(g,j,b,c)}function f(b,d){b.src===c||-1!==a.inArray(b,l)||(l.push(b),d?o.push(b):m.push(b),a.data(b,"imagesLoaded",{isBroken:d,src:b.src}),i&&h.notifyWith(a(b),[d,j,a(m),a(o)]),j.length===l.length&&(setTimeout(e),j.unbind(".imagesLoaded")))}var g=this,h=a.isFunction(a.Deferred)?a.Deferred():0,i=a.isFunction(h.notify),j=g.find("img").add(g.filter("img")),l=[],m=[],o=[];return j.length?j.bind("load.imagesLoaded error.imagesLoaded",function(a){f(a.target,"error"===a.type)}).each(function(d,e){var g=e.src,h=a.data(e,"imagesLoaded");if(h&&h.src===g)f(e,h.isBroken);else if(e.complete&&e.naturalWidth!==b)f(e,0===e.naturalWidth||0===e.naturalHeight);else if(e.readyState||e.complete)e.src=c,e.src=g}):e(),h?h.promise(g):g}}(jQuery);
/*!
 * jQuery imagesLoaded plugin v2.0.1
 * http://github.com/desandro/imagesloaded
 *
 * MIT License. by Paul Irish et al.
 */
(function(c,n){var k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(l){function m(){var b=c(h),a=c(g);d&&(g.length?d.reject(e,b,a):d.resolve(e));c.isFunction(l)&&l.call(f,e,b,a)}function i(b,a){b.src===k||-1!==c.inArray(b,j)||(j.push(b),a?g.push(b):h.push(b),c.data(b,"imagesLoaded",{isBroken:a,src:b.src}),o&&d.notifyWith(c(b),[a,e,c(h),c(g)]),e.length===j.length&&(setTimeout(m),e.unbind(".imagesLoaded")))}var f=this,d=c.isFunction(c.Deferred)?c.Deferred():
0,o=c.isFunction(d.notify),e=f.find("img").add(f.filter("img")),j=[],h=[],g=[];e.length?e.bind("load.imagesLoaded error.imagesLoaded",function(b){i(b.target,"error"===b.type)}).each(function(b,a){var e=a.src,d=c.data(a,"imagesLoaded");if(d&&d.src===e)i(a,d.isBroken);else if(a.complete&&a.naturalWidth!==n)i(a,0===a.naturalWidth||0===a.naturalHeight);else if(a.readyState||a.complete)a.src=k,a.src=e}):m();return d?d.promise(f):f}})(jQuery);